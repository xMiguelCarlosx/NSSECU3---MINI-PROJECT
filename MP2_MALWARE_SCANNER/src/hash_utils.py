"""
Hash utilities for MD5 and SHA1/SHA256
Project requirement: "hash should be MD5 and SHA1/SHA2"
"""
import hashlib
from pathlib import Path
from typing import Dict  # â† ADD THIS IMPORT
import os

class HashCalculator:
    """Calculate multiple hash types for files."""
    
    @staticmethod
    def calculate(file_path: Path) -> Dict[str, str]:
        """
        Calculate MD5, SHA1, and SHA256 hashes of a file.
        
        Args:
            file_path: Path to file
            
        Returns:
            Dictionary with hash types and values
        """
        if not file_path.exists():
            return {'error': 'File not found'}
            
        # Initialize hash objects
        md5_hash = hashlib.md5()
        sha1_hash = hashlib.sha1()
        sha256_hash = hashlib.sha256()
        
        try:
            with open(file_path, 'rb') as f:
                # Read in chunks for memory efficiency
                for chunk in iter(lambda: f.read(8192), b''):
                    md5_hash.update(chunk)
                    sha1_hash.update(chunk)
                    sha256_hash.update(chunk)
                    
            return {
                'md5': md5_hash.hexdigest(),
                'sha1': sha1_hash.hexdigest(),
                'sha256': sha256_hash.hexdigest(),  # SHA2
                'size': os.path.getsize(file_path)
            }
            
        except Exception as e:
            return {
                'error': str(e),
                'md5': '',
                'sha1': '',
                'sha256': ''
            }